var TL=TL||function(){var e={resizeTasks:[],events:[],data:{},init:function(){e.props={$bodyElement:$("body"),$navbar:$("#navbar"),$inputCentury:$("#century-search"),$sourceToggles:$("#tl-source"),$sourceToolbar:$("#source-toolbar"),$timeline:$("#timeline"),$pageHeader:$("#page-header"),$pageFooter:$("#page-footer"),$pageFooterContent:$("#page-footer-content")};var t=_.throttle(e.manageResize,250);$(window).resize(t),e.manageResize();var o={func:function(){var t=e.props.$pageFooterContent.outerHeight(!0);e.props.$pageFooter.height(t),e.props.$bodyElement.css("padding-bottom",t);e.getSiteViewType();e.props.$bodyElement.css("padding-top",e.props.$navbar.outerHeight(!0))},args:[]};o.func(o.args),e.addResizeTask(o)},addResizeTask:function(t){t.args=t.args||[],e.resizeTasks.push(t)},addListeners:function(){function t(){var t=e.props.$inputCentury.val();if(""!==t)if(NaN===Number(t))e.props.$inputCentury.val("");else{var o=null,n=e.props.$pageHeader.outerHeight(!0);$(".tl-event:visible").each(function(e){var r=$(this).data("century");if(r>=t)return o=n+$(this).position().top,!1}),null!==o&&(e.scrollToPosition(o),e.props.$inputCentury.val(""))}}e.props.$bodyElement.on("click",function(o){$(o.target);switch(o.target.id){case"btn-return-top":e.scrollToPosition(0);break;case"navbar-brand":window.scrollTo(0,0);break;case"btn-footer":e.scrollToPosition(e.props.$pageFooter.position().top);break;case"btn-search":t()}e.alternateFloats()}),e.props.$inputCentury.on("keypress",function(e){"13"==e.which&&(e.preventDefault(),t())})},scrollToPosition:function(e){$("html,body").animate({scrollTop:e},1e3)},alternateFloats:function(){$(".tl-inverted").removeClass("tl-inverted"),$(".tl-event:visible").each(function(e){(e+1)%2===0&&$(this).addClass("tl-inverted")})},manageResize:function(){for(var t=0;t<e.resizeTasks.length;t++){var o=e.resizeTasks[t];o.func.apply(this,o.args)}},getSiteViewType:function(){var t={xs:480,sm:768,md:992,lg:1200},o=e.props.$bodyElement.outerWidth(!0),n="xs";return o>=t.sm&&(n="sm"),o>=t.md&&(n="md"),o>=t.lg&&(n="lg"),n}};return e}();$(document).ready(function(){TL.init()});